(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1335,6216,347],{98284:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/services/payment",function(){return n(31508)}])},31508:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return M}});var s=n(85893),r=n(67294),a=n(9473),d=n(10682),l=n(34051),c=n(31555),i=n(12529),h=n(35005),o=n(94184),y=n.n(o),u=n(76792);let x=r.forwardRef(({bsPrefix:e,className:t,striped:n,bordered:r,borderless:a,hover:d,size:l,variant:c,responsive:i,...h},o)=>{let x=(0,u.vE)(e,"table"),j=y()(t,x,c&&`${x}-${c}`,l&&`${x}-${l}`,n&&`${x}-${"string"==typeof n?`striped-${n}`:"striped"}`,r&&`${x}-bordered`,a&&`${x}-borderless`,d&&`${x}-hover`),f=(0,s.jsx)("table",{...h,className:j,ref:o});if(i){let e=`${x}-responsive`;return"string"==typeof i&&(e=`${e}-${i}`),(0,s.jsx)("div",{className:e,children:f})}return f});var j=n(42298),f=n(32552),D=n(17384),m=n(49486);let p=n(34977);function M(){let e,t,n;let o=(0,a.I0)(),[y,u]=(0,r.useState)("yearly"),M=(0,r.useRef)(null),g=(0,a.v9)(e=>e.auth.isLoggedIn),w=(0,a.v9)(e=>e.account.storageUsage),v=(0,a.v9)(e=>e.account.totoalStorage50GBRequired),Z=(0,a.v9)(e=>e.account.nextDueTime),$=(0,a.v9)(e=>e.account.monthlyPrice),b=(0,a.v9)(e=>e.account.dues),_=(0,a.v9)(e=>e.account.planOptions),N=(0,a.v9)(e=>e.account.transactions),P=(0,a.v9)(e=>e.account.braintreeClientToken);e=w<1e6?(w/1e6).toFixed(3)+" MB":(w/1e9).toFixed(3)+" GB",_&&(t=_.monthly.firstDue===_.monthly.lastDue?(0,j.default)(new Date(_.monthly.firstDue),"MM/dd/yyyy"):"".concat((0,j.default)(new Date(_.monthly.firstDue),"MM/dd/yyyy")," ... ").concat((0,j.default)(new Date(_.monthly.lastDue),"MM/dd/yyyy")),n="".concat((0,j.default)(new Date(_.yearly.firstDue),"MM/dd/yyyy")," ... ").concat((0,j.default)(new Date(_.yearly.lastDue),"MM/dd/yyyy")));let k=0!==b.length&&b.toReversed().map((e,t)=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,j.default)(new Date(e.newDueTime),"MM/dd/yyyy")}),(0,s.jsx)("td",{children:e.totoalStorage50GBRequired}),(0,s.jsxs)("td",{children:["$",e.monthlyPrice]})]},t)),C=0!==N.length&&N.map((e,t)=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,j.default)(new Date(e.time),"MM/dd/yyyy")}),(0,s.jsxs)("td",{children:["$",e.totalDues]}),(0,s.jsx)("td",{children:e.plan}),(0,s.jsx)("td",{children:e.firstDue===e.lastDue?(0,j.default)(new Date(e.firstDue),"MM/dd/yyyy"):"".concat((0,j.default)(new Date(e.firstDue),"MM/dd/yyyy")," - ").concat((0,j.default)(new Date(e.lastDue),"MM/dd/yyyy"))})]},t)),E=e=>{u(e.target.value)};return(0,r.useEffect)(()=>{g&&(o((0,D.OC)()),o((0,D.lw)()),o((0,D.c1)()))},[g]),(0,r.useEffect)(()=>{P&&p.create({authorization:P,container:"#dropin-container"}).then(e=>{M.current=e})},[P]),(0,s.jsx)(f.Z,{children:(0,s.jsxs)(d.Z,{children:[(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,s.jsx)(l.Z,{children:(0,s.jsxs)(c.Z,{sm:{span:8,offset:2},children:[(0,s.jsxs)("p",{children:["Your current storage usage is ",e,". "]}),(0,s.jsxs)("p",{children:[" ",v,"GB storage is required, $",$," USD per month."]}),0===b.length&&(0,s.jsxs)("p",{children:["Next due date is ",(0,j.default)(new Date(Z),"MM/dd/yyyy")]})]})}),0!==b.length&&(0,s.jsx)(l.Z,{children:(0,s.jsxs)(c.Z,{sm:{span:8,offset:2},children:[(0,s.jsx)("hr",{}),(0,s.jsx)("h1",{children:"Invoice"}),(0,s.jsx)("h5",{children:"Dues:"}),(0,s.jsxs)(x,{children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Date"}),(0,s.jsx)("th",{children:"Storage(GB)"}),(0,s.jsx)("th",{children:"Due(USD)"})]})}),(0,s.jsx)("tbody",{children:k})]}),(0,s.jsx)("hr",{})]})}),0!==b.length&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.Z,{children:(0,s.jsx)(c.Z,{sm:{span:8,offset:2},children:(0,s.jsx)("h1",{children:"Payment"})})}),(0,s.jsx)(l.Z,{children:(0,s.jsx)(c.Z,{sm:{span:8,offset:2},children:(0,s.jsx)(i.Z,{children:(0,s.jsxs)(i.Z.Group,{controlId:"plan",children:[(0,s.jsx)("hr",{}),(0,s.jsx)(i.Z.Check,{type:"radio",id:"payYearly",label:"Pay Yearly, get 2 months free.",value:"yearly",onChange:E,checked:"yearly"===y}),_&&"$".concat(_.yearly.totalDues," USD. For ").concat(n,". Next due date:  ").concat((0,j.default)(new Date(_.yearly.nextDueTime),"MM/dd/yyyy")),(0,s.jsx)("hr",{}),(0,s.jsx)(i.Z.Check,{type:"radio",id:"payMonthly",label:"Pay Monthly",value:"monthly",onChange:E,checked:"monthly"===y}),_&&"$".concat(_.monthly.totalDues," USD. For ").concat(t,". Next due date:  ").concat((0,j.default)(new Date(_.monthly.nextDueTime),"MM/dd/yyyy")),(0,s.jsx)("hr",{})]})})})}),(0,s.jsx)(l.Z,{children:(0,s.jsxs)(c.Z,{sm:{span:8,offset:2},children:[(0,s.jsx)("div",{id:"dropin-container"}),(0,s.jsx)(h.Z,{className:"pull-right",onClick:e=>[M.current.requestPaymentMethod().then(e=>{(0,m.qu)(!1,"Payment method nonce:",e.nonce),o((0,D.w_)({plan:y,paymentMethodNonce:e.nonce}))})],children:"Pay"})]})})]}),(0,s.jsx)(l.Z,{children:(0,s.jsxs)(c.Z,{sm:{span:8,offset:2},children:[(0,s.jsx)("hr",{}),(0,s.jsx)("h1",{children:"Transactions"}),(0,s.jsxs)(x,{children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Date"}),(0,s.jsx)("th",{children:"Amount"}),(0,s.jsx)("th",{children:"Plan"}),(0,s.jsx)("th",{children:"Paid Duration"})]})}),0!==N.length&&(0,s.jsx)("tbody",{children:C})]}),0===N.length&&(0,s.jsx)("p",{children:"Empty"})]})})]})})}}},function(e){e.O(0,[8110,9769,2552,9774,2888,179],function(){return e(e.s=98284)}),_N_E=e.O()}]);